# Lesson: Using an Async Service in Angular to Fetch API Data (Axios)

## Target Audience
Beginnerâ€“Intermediate Angular students

---

## Learning Objectives
By the end of this lesson, students will be able to:

- Explain the purpose of Angular services
- Use async / await with an external API
- Share data between a service and a component
- Understand basic Angular change detection
- Display API data in a template

---

## Prerequisites
- TypeScript basics
- Angular components
- Basic HTTP concepts (GET request, JSON)

---

## Key Concept: Why Use a Service?

In Angular, a service is used to:
- Separate business logic from UI logic
- Reuse API logic across multiple components
- Keep components clean and maintainable

Components display data.  
Services fetch and manage data.

---

## Part 1: Product Service (Data Layer)

### product-service.ts

```ts
import { Injectable } from '@angular/core';

declare const axios: any;

@Injectable({
  providedIn: 'root',
})
export class ProductService {

  async getProducts(): Promise<any[]> {
    const apiUrl: string = 'https://fakestoreapi.com/products';
    let products: any[] = [];

    await axios.get(apiUrl)
      .then((response: any) => {
        products = response.data;
      })
      .catch((error: any) => {
        console.log(error);
      });

    return products;
  }
}
```

---

## Part 2: App Component (Presentation Layer)

### app.ts

```ts
import { Component, ChangeDetectorRef } from '@angular/core';
import { FormsModule } from '@angular/forms';
import { JsonPipe } from '@angular/common';
import { ProductService } from './services/product-service';

@Component({
  selector: 'app-root',
  imports: [FormsModule, JsonPipe],
  templateUrl: './app.html',
  styleUrl: './app.css'
})
export class App {

  public product_list: any[] = [];

  constructor(
    public productService: ProductService,
    private cdr: ChangeDetectorRef
  ) {}

  async ngOnInit() {
    this.product_list = await this.productService.getProducts();
    this.cdr.detectChanges();
  }
}
```

---

## Part 3: Template Rendering

### app.html

```html
<h2>Product List</h2>
<pre>{{ product_list | json }}</pre>
```
---

## Summary
- Services handle data logic
- Components handle UI logic
- async / await simplifies API calls
